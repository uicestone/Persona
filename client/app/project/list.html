<div class="page" ng-controller="projectCtrl">

    <div class="row ui-section">
        <div class="col-md-12">
            <div class="panel panel-default project-list">
                <div class="panel-heading">
                    <div class="panel-title">项目管理</div>
                </div>
                <div class="panel-body">
                    <div class="filters" layout="row" ng-if="projects.length>0">
                        <md-input-container flex="1">
                            <label>开始时间</label>
                            <md-datepicker ng-model="query.startDate" md-hide-icons="calendar"></md-datepicker>
                        </md-input-container>
                        <md-input-container flex="1">
                            <label>结束时间</label>
                            <md-datepicker ng-model="query.endDate" md-hide-icons="calendar"></md-datepicker>
                        </md-input-container>
                        <md-input-container flex="1">
                            <label>投放平台</label>
                            <md-select ng-model="query.platform">
                                <md-option ng-repeat="platform in platforms" value="{{ platform }}"></md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <table class="table table-striped table-hover" ng-if="projects.length>0" style="background:white">
                        <thead>
                            <tr>
                                <th>项目名称</th>
                                <th>投放平台</th>
                                <th>管理者</th>
                                <th>创建时间</th>
                                <th>今日新增/累计用户</th>
                                <th>综合KPI完成率</th>
                                <th>状态</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="project in projects" ng-click="showProjectDetail(project)">
                                <td>{{ project.name }}</td>
                                <td>{{ project.platform }}</td>
                                <td>{{ project.manager.name }}</td>
                                <td>{{ project.createdAt | date:'y/M/d' }}</td>
                                <td></td>
                                <td></td>
                                <td>{{ project.status }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <hr>
                    <div class="actions text-right" ng-if="projects.length>0">
                        <md-button href="#!/wizard/create-project/" class="md-raised md-primary" style="line-height:34px">创建项目</md-button>
                    </div>
                    <div ng-if="projects.length==0" class="text-center" style="padding:100px">
                        <h3 style="color:#7d7d7d;font-weight:normal">
                            对不起，您暂时没有任何项目
                            <span ng-if="$parent.user.can('edit-project')">，您可以选择创建项目</span>
                        </h3>
                        <div ng-if="$parent.user.can('edit-project')" class="actions" style="margin-top:20px">
                            <md-button href="#!/wizard/create-project/" class="btn-lg btn-w-lg md-raised md-primary" style="line-height:34px">创建项目</md-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>